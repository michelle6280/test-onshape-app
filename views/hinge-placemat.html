<!DOCTYPE html>

<head>
  <script src="javascripts/jquery-1.8.3.min.js"></script>
  <script src="javascripts/bootstrap.min.js"></script>
  <script src="javascripts/threejs/three.min.js"></script>

  <script src="javascripts/threejs/js/loaders/STLLoader.js"></script>
  <script src="javascripts/threejs/js/wip/TypedGeometry.js"></script>
  <script src="javascripts/threejs/js/Detector.js"></script>
  <script src="javascripts/threejs/js/libs/stats.min.js"></script>
  <script src="javascripts/threejs/js/controls/TrackballControls.js"></script>

  <script src="javascripts/hinge-placemat.js"></script>

  <link href="stylesheets/style.css" rel="stylesheet">
  <link href="stylesheets/hamburger.css" rel="stylesheet">
  <!-- <link href="stylesheets/LemonMilkMedium-mLZYV.otf" rel="stylesheet">
  <link href="stylesheets/LandasansUltraLight-qZYq5.ttf" rel="stylesheet"> -->
  <!-- <script src="https://wzrd.in/standalone/formdata-polyfill"></script>
  <script src="https://wzrd.in/standalone/promise-polyfill@latest"></script>
  <script src="https://wzrd.in/standalone/whatwg-fetch@latest"></script> -->
</head>
<body>
  <div class="container">
    <div class="top">
      <!-- <div class="menu-button" onclick=""> 
        <div class="bar1" style="--delay: 0.00s"></div>
        <div class="bar2" style="--delay: 0.10s"></div>
        <div class="bar3" style="--delay: 0.20s"></div>
      </div>  -->
      <button class="hamburger hamburger--spin" type="button">
        <span class="hamburger-box">
          <span class="hamburger-inner"></span>
        </span>
      </button>  
      <div id="popUpNav" class="overlay" onclick="closeNav()">
        <div class="overlay-content">
          <a href="/" target="_self" data-scroll onclick="closeNav()">Home</a>
          <hr class="small">
          <a href="/tools" target="_self" data-scroll onclick="closeNav()">Tools</a>
          <hr class="small">
          <a href="/activities" target="_self" data-scroll onclick="closeNav()">Activities</a>
          <hr class="small">
          <a href="/resources-page" target="_self" data-scroll onclick="closeNav()">Resources</a>
        </div>
      </div>
      <h2 class="header-text"> Onshape- </h2> 
    </div>
    
    <div class="mid">
      <div class="contents-top">
        <div class="text-description-center">
          <h3>Challenge Statement</h3>
          <p class="normal">Use Onshape to create a hinge!</p>
        </div>
        <div class="contents-example">
          <h4>Example(s):</h4>
          <div class="image-sneakpeek2">
            <!-- <img src="images/cube-hole-view.gif" alt="cube-view-gif" class="challenge-examples"> -->
            <div class="sneakpeek-container">
              <img src="images/hinge-view.gif" alt="hinge-view" class="challenge-examples">
              <div class="feature-name">Our hinge</div>
            </div>
          </div>
        </div>
      </div>

      <hr class="divider">

      <div class="contents-top">
        <div class="text-description-center">
          <h3> You try! </h3>
          <p class="normal">Some useful tools for this project can include LINE, CIRCLE, TANGENT, TRIM, MIRROR, LOFT, EXTRUDE, DIMENSION, TRANSFORM, and any other tools you think can do the trick!</p>
        </div>
      </div>

      <div class="contents">
        <div class="tools-container">
          <h4>Initial Tool bar</h4>
          <p class="normal2">Tool bar outside of a sketch</p>
        </div>
        <div class="tools-container">
          <img src="images/hinge-tools.png" alt="hinge-tools1">
        </div>
      </div>
      <div class="contents">
        <div class="tools-container">
          <h4>Sketch Tool bar</h4>
          <p class="normal2">Tool bar once inside a sketch</p>
        </div>
        <div class="tools-container">
          <img src="images/hinge-tools2.png" alt="hinge-tools2">
        </div>
      </div>

      <hr class="divider">

      <div class="text-description-panel">
        <button class="accordion"><h3>Click here for some hints:</h3></button>
        <div class="panel">
          <p class="normal2">ONSHAPE TIP: Using the Tangent tool.</p>
          <p class="normal2">You want to make sure that you connect the cocentric circles that you drew to the initial lines that you drew so that when you use the Tangent tool, the size of the circles don't change. Instead, they will move so that the lines are tangent to the circles. This is possible because of that line connection that you draw between the circles and the lines. The line anchors the size of the circles.</p>
        </div>
      </div>

      <script>
        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function() {
                /* Toggle between adding and removing the "active" class,
                to highlight the button that controls the panel */
                this.classList.toggle("active");

                /* Toggle between hiding and showing the active panel */
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                    panel.style.display = "none";
                } else {
                    panel.style.display = "block";
                }
            });
        }
      </script>

      <hr class="divider">

      <div class="contents-top">
        <div class="text-description-center">
          <h3>See some solutions!</h3><br/>
          <p class="normal">Follow this button to learn how others did it!</p>
        </div>
        <br/>
        <a href="/hinge" class="hvr-grow" target="_self"><button type="button" class="btn-home">Approaches</button></a><br/>
        <!-- <a href="/cube-hole2" class="hvr-grow" target="_self"><button type="button" class="btn-home">Approach #2</button></a> -->
      </div>

      <hr class="divider">

      <iframe name="dummy" id="dummy" style="display: none;"></iframe>
      <div id="feedback-form">
        <div class="form-container">
          <h3 class="title-white">Tell us how you solved this challenge!</h3>
          <!-- <p class="normal">Please fill out this quick feedback form and let us know what you think of our app!</p> -->
          <form id="feedback" target="dummy" name="google-sheets">
            <hr>
            <div class="text-input">
              <label for="approach">What were some of the steps that you took?</label>
              <input type="text" placeholder="..." id="approach" name="approach">
            </div> 
            
            <div class="text-input">
              <label for="easy">What was easy?</label>
              <input type="text" placeholder="..." id="easy" name="easy">
            </div>
            
            <div class="text-input">
              <label for="hard">What was hard?</label>
              <input type="text" placeholder="..." id="hard" name="hard">
            </div> 

            <div class="text-input">
              <label for="comment">Any additional comments?</label>
              <input type="text" placeholder="..." id="comment" name="comment">
            </div>
            <hr>

            <!-- <div class="rate">
              <label for="rate-app">Rate our app!</label><br>
              <div class="rating">
                <input id="star5" type="radio" value="5" class="radio-btn hide" name="entry.1456528451">
                <label for="star5">☆</label>
                <input id="star4" type="radio" value="4" class="radio-btn hide" name="entry.1456528451">
                <label for="star4">☆</label>
                <input id="star3" type="radio" value="3" class="radio-btn hide" name="entry.1456528451">
                <label for="star3">☆</label>
                <input id="star2" type="radio" value="2" class="radio-btn hide" name="entry.1456528451">
                <label for="star2">☆</label>
                <input id="star1" type="radio" value="1" class="radio-btn hide" name="entry.1456528451">
                <label for="star1">☆</label>
              </div>
            </div> -->

            <input type="submit" class="submitbtn" value="Submit">
          </form>
        </div>
      </div>

      <div id="form-closed">
        <h3 class="title-white"> Thanks for sharing! </h3>
      </div>

    </div>
    <div class="footer">
    </div>
  </div>
  <script>
    $('#feedback').submit(function () {
      formPost();
      return false;
    });
    function formPost() { 
      let url = "https://script.google.com/macros/s/AKfycbxtMOQmGMRpPcJ1TQ8k_S_v6VbGM5BcQF7IXcKMUKOdmTIoEXrr/exec";
      let method = "POST";
      let headers = {"Content-Type": "multipart/form-data"}
      let elements = document.getElementById("feedback").elements;
      // const form = document.forms['google-sheets'];
      let body = {};
      const formData = new FormData();
      for (var i = 0, element; element = elements[i++];) {
          if (element.type === "text"){
            let name = element.name;
            body[name] = element.value;
            formData.append(name, element.value);
          }
      }
      console.log(body);
      console.log(formData);

      // fetch(url, { method: method, body: JSON.stringify(body)}).then(res => console.log(res));
      fetch(url, {method: method, body: formData}).then(res => console.log(res));

      formSubmitClose();
    }

    function formSubmitClose() { 
      var form = document.getElementById("feedback-form");
      document.getElementById("feedback-form").style.animation = "fadeOut .2s forwards";
      document.getElementById("feedback-form").style.display = "none";
      document.getElementById("form-closed").style.display = "flex";
    }

    function openNav() {
      hamburger.classList.add("is-active");
      document.getElementById("popUpNav").style.display = "block";
    }
  
    function closeNav() {
      hamburger.classList.remove("is-active");
      document.getElementById("popUpNav").style.display = "none";
    }
  
    // Hamburger Menu Spin
    var hamburger = document.querySelector(".hamburger");
    // form.addEventListener('click', () => form.classList.contains('submitted') ? formSubmitClose() : 
    hamburger.addEventListener('click', () => hamburger.classList.contains('is-active') ? closeNav() : openNav());
  
    closeNav();
  </script> 
</body>
</html>