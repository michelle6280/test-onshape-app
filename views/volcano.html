<!DOCTYPE html>

<head>
  <script src="javascripts/jquery-1.8.3.min.js"></script>
  <script src="javascripts/bootstrap.min.js"></script>
  <script src="javascripts/threejs/three.min.js"></script>

  <script src="javascripts/threejs/js/loaders/STLLoader.js"></script>
  <script src="javascripts/threejs/js/wip/TypedGeometry.js"></script>
  <script src="javascripts/threejs/js/Detector.js"></script>
  <script src="javascripts/threejs/js/libs/stats.min.js"></script>
  <script src="javascripts/threejs/js/controls/TrackballControls.js"></script>

  <script src="javascripts/volcano.js"></script>

  <link href="stylesheets/style.css" rel="stylesheet">
  <link href="stylesheets/hamburger.css" rel="stylesheet">
  <!-- <link href="stylesheets/LemonMilkMedium-mLZYV.otf" rel="stylesheet">
  <link href="stylesheets/LandasansUltraLight-qZYq5.ttf" rel="stylesheet"> -->
  <!-- <script src="https://wzrd.in/standalone/formdata-polyfill"></script>
  <script src="https://wzrd.in/standalone/promise-polyfill@latest"></script>
  <script src="https://wzrd.in/standalone/whatwg-fetch@latest"></script> -->
</head>
<body>
  <div class="container">
    <div class="top">
      <!-- <div class="menu-button" onclick=""> 
        <div class="bar1" style="--delay: 0.00s"></div>
        <div class="bar2" style="--delay: 0.10s"></div>
        <div class="bar3" style="--delay: 0.20s"></div>
      </div>  -->
      <button class="hamburger hamburger--spin" type="button">
        <span class="hamburger-box">
          <span class="hamburger-inner"></span>
        </span>
      </button>  
      <div id="popUpNav" class="overlay" onclick="closeNav()">
        <div class="overlay-content">
          <a href="/" target="_self" data-scroll onclick="closeNav()">Home</a>
          <hr class="small">
          <a href="/tools" target="_self" data-scroll onclick="closeNav()">Tools</a>
          <hr class="small">
          <a href="/activities" target="_self" data-scroll onclick="closeNav()">Activities</a>
          <hr class="small">
          <a href="/resources-page" target="_self" data-scroll onclick="closeNav()">Resources</a>
        </div>
      </div>
      <h2 class="header-text"> Onshape- </h2> 
    </div>
    
    <div class="mid">
      <div class="contents-top">
        <div class="text-description">
          <h3> Our Approach </h3>
          <div class="image-sneakpeak">
            <img src="images/volcano-view.gif" alt="volcano-gif">
          </div>
        </div>
      </div>

      <div class="contents-top">
        <div class="text-description-center">
          <h3> We tried! </h3>
          <p class="normal">We used SPLINE, PLANE, SHELL, LOFT, FILLET, and EXTRUDE.</p>
        </div>
      </div>

      <div class="contents">
        <video controls>
          <source src="videos/volcano-sketch1.mov" type="video/mp4">
        </video>
        <div class="text-description">
            <h3>Step 1: Sketch the base of the volcano</h3>
            <p class="normal">To make sure the volcano appears upright, start with a sketch on the Top plane.</p>
            <p class="normal">Use the spline tool to draw a random shape as the base. Click as many times as you want to make curves in your volcano, and go around in a circular path.</p>
            <p class="normal"><strong>** Note: Make sure that you close off your volcano base by ending on the first dot/checkoint you made with the spline tool. **</strong></p>
            <p class="normal">Click the green check mark to finish the sketch.</p>
        </div>
      </div>

      <div class="contents">
        <div class="text-description">
          <h3>Step 2: Create a new plane to sketch the top of the volcano</h3>
            <p class="normal">Change your orientation to the Front view so that you can see the sketch layers better. So far, you can see your first sketch, which will be the base of the volcano.</p>
            <p class="normal">Before sketching the top of the volcano, use the plane tool to create a new plane. Offset it upwards by how tall you want your volcano to be. In this case, we offsetted it by 3 inches, so this volcano will be 3 inches tall.</p>
            <p class="normal">Click the green check mark to finish adding the plane.</p>
        </div>
        <video controls>
          <source src="videos/volcano-plane.mov" type="video/mp4">
        </video>
      </div>

      <div class="contents">
        <video controls>
          <source src="videos/volcano-sketch2.mov" type="video/mp4">
        </video>
        <div class="text-description">
          <h3>Step 3: Sketch the top of the volcano</h3>
          <p class="normal">On the new plane that you just created (Plane 1), use the spline tool again to sketch the top of the volcano.</p>
          <p class="normal"><strong>** Note: Remember that a volcano normally has a wide base and a smaller top, so make sure the sketch of the top of the volcano is smaller than that of the base. In other words, make the circular path shorter/smaller.</strong></p>
          <p class="normal">Click the green check mark to finish the sketch of the top plane.</p>
        </div>
      </div>

      <div class="contents">
        <div class="text-description">
          <h3>Step 4: Create the body of the volcano</h3>
          <p class="normal">When you look at the Front view, you can see your two sketchs: the larger one on the bottom and the smaller one on top.</p>
          <p class="normal">We want to create the body of the volcano by connecting the larger sketch (base of volcano) to the smaller sketch (top of volcano). To do this, use the loft tool and select the faces of the two sketches.</p>
          <p class="normal">Click the green check mark to finish the loft.</p>
        </div>
        <video controls>
          <source src="videos/volcano-loft.mov" type="video/mp4">
        </video>
      </div>

      <div class="contents">
        <video controls>
          <source src="videos/volcano-shell.mov" type="video/mp4">
        </video>
        <div class="text-description">
          <h3>Step 5: Make the volcano hollow</h3>
          <p class="normal">Select the shell tool, and then click on the top surface of the volcano.</p>
          <p class="normal"><strong>** Note: we want the top of the volcano to be hollow, not the bottom. So make sure to select the top surface and not the bottom. </strong></p>
        </div>
      </div>

      <div class="contents">
        <div class="text-description">
          <h3>Step 6: Soften the edges of the volcano</h3>
          <p class="normal">Select the fillet tool, and then select the outer edge of the top of the volcano.</p>
          <p class="normal">Set the fillet radius to 0.1 inches.</p>
          <p class="normal">Click the green check mark to finish the fillet.</p>
        </div>
        <video controls>
          <source src="videos/volcano-fillet.mov" type="video/mp4">
        </video>
      </div>

      <div class="contents">
        <video controls>
          <source src="videos/volcano-body-color.mov" type="video/mp4">
        </video>
        <div class="text-description">
          <h3>Step 7: Change the color of the volcano body</h3>
          <p class="normal">Right click on the body of the volcano and select "edit appearance."</p>
          <p class="normal">Adjust the color to get the color of your liking, then click the green check mark to finish the edit.</p>
        </div>
      </div>

      <div class="contents">
        <div class="text-description">
          <h3>Step 8: Create a new plane for the lava</h3>
          <p class="normal">In the same part studio as the volcano body, use the plane tool to create another plane on the Front plane.</p>
          <p class="normal">From the left plane perspective, offset the plane by enough to be near the edge of the volcano's body. In this example, we offset it by 1.5 inches.</p>
          <p class="normal"><strong>** Note: Make sure that the plane still entirely intersects the volcano body.</strong></p>
          <p class="normal">Click the green check mark to finish creating the new plane.</p>
        </div>
        <video controls>
          <source src="videos/volcano-plane2.mov" type="video/mp4">
        </video>
      </div>

      <div class="contents">
        <video controls>
          <source src="videos/volcano-lava-sketch.mp4" type="video/mp4">
        </video>
        <div class="text-description">
          <h3>Step 9: Sketch the lava</h3>
          <p class="normal">On the new plane that you made (Plane 2), use the spline tool to create the lava by drawing out what you think lava falling down a volcano should look like.</p>
          <p class="normal"><strong>** Note: To make it look more liquidious/smooth, create many dots/checkpoints, which will create curves for the lava. **</strong></p>
          <p class="normal">Use the line tool to connect and close off your lava so that it is its own shape.</p>
        </div>
      </div>

      <div class="contents">
        <div class="text-description">
          <h3>Step 10: Make the lava 3D:</h3>
          <p class="normal">Copy the sketch of the lava that you just made. In a new part studio, paste that sketch into a new sketch (Sketch 1).</p>
          <p class="normal"><strong>** Note: We want to do this in a separate part studio because we want the lava to be a separate part than the body. If we kept it in the first part studio, it would've simply been a surface instead of its own part. This is an issue when you try to import it into an Assembly or when you try to 3D print it: neither can process a surface. **</strong></p>
          <p class="normal">Use the extrude tool to extrude add the surface of the lava. This will make the lava 3D.</p>
          <p class="normal">Adjust how thick you want the lava to be, and then click the green check mark to finish the extrude.</p>
        </div>
        <video controls>
          <source src="videos/volcano-lava-extrude.mp4" type="video/mp4">
        </video>
      </div>

      <div class="contents">
        <video controls>
          <source src="videos/volcano-lava-fillet.mov" type="video/mp4">
        </video>
        <div class="text-description">
          <h3>Step 11: Soften the curves of the lava</h3>
          <p class="normal">Start off by filleting the top curve. Select the fillet tool and then click on the top edge of the lava. Use the arrow that appears afterwards and drag it as far down as you want.</p>
          <p class="normal">Click on the green check mark to finish the top fillet. Then click on the tool again and select the side edges of the lava. You can adjust how much you want to fillet it by changing the radius, but we are satisfied with 0.2 inches fillet.</p>
          <p class="normal">Click on the green check mark to finish the fillets.</p>
        </div>
      </div>

      <div class="contents">
        <div class="text-description">
          <h3>Step 12: Change the color of the lava</h3>
          <p class="normal">Right click on the lava part and select "edit appearance."</p>
          <p class="normal">Play around with the colors and choose a color that you think is best.</p>
          <p class="normal">Click the green check mark to finish editing the color.</p>
        </div>
        <video controls>
          <source src="videos/volcano-lava-color.mov" type="video/mp4">
        </video>
      </div>

      <div class="contents">
        <video controls>
          <source src="videos/volcano-assembly.mov" type="video/mp4">
        </video>
        <div class="text-description">
          <h3>Step 13: Put the volcano together</h3>
          <p class="normal"><strong>** Note: You can add an Assembly tab by clicking on the "+" button on the bottom left hand corner. **</strong></p>
          <p class="normal">In a new Assembly, import the two parts that you made (the volcano body and the lava) by clicking on "Insert" at the top left hand corner.</p>
          <p class="normal">Use your mouse or the arrows provided on the parts to move your parts around and assemble your volcano.</p>
        </div>
      </div>

      <hr class="divider">

      <div class="contents-button">
        <div class="wrapper-small">
            <h3 class="title-white">Take me back to the challenge</h3><br/>
            <a href="/volcano-placemat" class="hvr-grow" target="_self"><button type="button" class="btn-home">Go back</button></a>
        </div>
      </div>

      <hr class="divider">

      <iframe name="dummy" id="dummy" style="display: none;"></iframe>
      <div id="feedback-form">
        <div class="form-container">
          <h3 class="title-white">Feedback Form</h3>
          <p class="normal">Please fill out this quick feedback form and let us know what you think of our app!</p>
          <form id="feedback" target="dummy" name="google-sheets">
            <hr>
            <div class="text-input">
              <label for="liked">What did you like?</label>
              <input type="text" placeholder="I liked the way..." id="liked" name="liked">
            </div> 
            
            <div class="text-input">
              <label for="disliked">What didn't you like?</label>
              <input type="text" placeholder="I didn't like how..." id="disliked" name="disliked">
            </div>
            
            <div class="text-input">
              <label for="comments">What did you wish/didn't wish to see?</label>
              <input type="text" placeholder="I wish I saw..." id="comments" name="comments">
            </div> 

            <div class="text-input">
              <label for="additional">Any additional comments?</label>
              <input type="text" placeholder="Awesome app!" id="additional" name="additional">
            </div>
            <hr>

            <!-- <div class="rate">
              <label for="rate-app">Rate our app!</label><br>
              <div class="rating">
                <input id="star5" type="radio" value="5" class="radio-btn hide" name="entry.1456528451">
                <label for="star5">☆</label>
                <input id="star4" type="radio" value="4" class="radio-btn hide" name="entry.1456528451">
                <label for="star4">☆</label>
                <input id="star3" type="radio" value="3" class="radio-btn hide" name="entry.1456528451">
                <label for="star3">☆</label>
                <input id="star2" type="radio" value="2" class="radio-btn hide" name="entry.1456528451">
                <label for="star2">☆</label>
                <input id="star1" type="radio" value="1" class="radio-btn hide" name="entry.1456528451">
                <label for="star1">☆</label>
              </div>
            </div> -->

            <input type="submit" class="submitbtn" value="Submit">
          </form>
        </div>
      </div>

      <div id="form-closed">
        <h3 class="title-white"> Thanks for your feedback! </h3>
      </div>

    </div>
    <div class="footer">
    </div>
  </div>
  <script>
    $('#feedback').submit(function () {
      formPost();
      return false;
    });
    function formPost() { 
      let url = "https://script.google.com/macros/s/AKfycbybS5ThQWE78wfbrH8BOBr7CHGfaDwbGBfPtJrLtpevaccPXsE/exec";
      let method = "POST";
      let headers = {"Content-Type": "multipart/form-data"}
      let elements = document.getElementById("feedback").elements;
      // const form = document.forms['google-sheets'];
      let body = {};
      const formData = new FormData();
      for (var i = 0, element; element = elements[i++];) {
          if (element.type === "text"){
            let name = element.name;
            body[name] = element.value;
            formData.append(name, element.value);
          }
      }
      console.log(body);
      console.log(formData);

      // fetch(url, { method: method, body: JSON.stringify(body)}).then(res => console.log(res));
      fetch(url, {method: method, body: formData}).then(res => console.log(res));

      formSubmitClose();
    }

    function formSubmitClose() { 
      var form = document.getElementById("feedback-form");
      document.getElementById("feedback-form").style.animation = "fadeOut .2s forwards";
      document.getElementById("feedback-form").style.display = "none";
      document.getElementById("form-closed").style.display = "flex";
    }

    function openNav() {
      hamburger.classList.add("is-active");
      document.getElementById("popUpNav").style.display = "block";
    }
  
    function closeNav() {
      hamburger.classList.remove("is-active");
      document.getElementById("popUpNav").style.display = "none";
    }
  
    // Hamburger Menu Spin
    var hamburger = document.querySelector(".hamburger");
    // form.addEventListener('click', () => form.classList.contains('submitted') ? formSubmitClose() : 
    hamburger.addEventListener('click', () => hamburger.classList.contains('is-active') ? closeNav() : openNav());
  
    closeNav();
  </script> 
</body>
</html>